{"ast":null,"code":"import { Object3D, Vector3, Matrix4 } from 'three';\nclass CSS2DObject extends Object3D {\n  constructor() {\n    let element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document.createElement('div');\n    super();\n    this.isCSS2DObject = true;\n    this.element = element;\n    this.element.style.position = 'absolute';\n    this.element.style.userSelect = 'none';\n    this.element.setAttribute('draggable', false);\n    this.addEventListener('removed', function () {\n      this.traverse(function (object) {\n        if (object.element instanceof Element && object.element.parentNode !== null) {\n          object.element.parentNode.removeChild(object.element);\n        }\n      });\n    });\n  }\n  copy(source, recursive) {\n    super.copy(source, recursive);\n    this.element = source.element.cloneNode(true);\n    return this;\n  }\n}\nconst _vector = /*#__PURE__*/new Vector3();\nconst _viewMatrix = /*#__PURE__*/new Matrix4();\nconst _viewProjectionMatrix = /*#__PURE__*/new Matrix4();\nconst _a = /*#__PURE__*/new Vector3();\nconst _b = /*#__PURE__*/new Vector3();\nclass CSS2DRenderer {\n  constructor() {\n    let parameters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const _this = this;\n    let _width, _height;\n    let _widthHalf, _heightHalf;\n    const cache = {\n      objects: new WeakMap()\n    };\n    const domElement = parameters.element !== undefined ? parameters.element : document.createElement('div');\n    domElement.style.overflow = 'hidden';\n    this.domElement = domElement;\n    this.getSize = function () {\n      return {\n        width: _width,\n        height: _height\n      };\n    };\n    this.render = function (scene, camera) {\n      if (scene.matrixWorldAutoUpdate === true || scene.autoUpdate === true) scene.updateMatrixWorld();\n      if (camera.parent === null && (camera.matrixWorldAutoUpdate == null || camera.matrixWorldAutoUpdate === true)) {\n        camera.updateMatrixWorld();\n      }\n      _viewMatrix.copy(camera.matrixWorldInverse);\n      _viewProjectionMatrix.multiplyMatrices(camera.projectionMatrix, _viewMatrix);\n      renderObject(scene, scene, camera);\n      zOrder(scene);\n    };\n    this.setSize = function (width, height) {\n      _width = width;\n      _height = height;\n      _widthHalf = _width / 2;\n      _heightHalf = _height / 2;\n      domElement.style.width = width + 'px';\n      domElement.style.height = height + 'px';\n    };\n    function renderObject(object, scene, camera) {\n      if (object.isCSS2DObject) {\n        _vector.setFromMatrixPosition(object.matrixWorld);\n        _vector.applyMatrix4(_viewProjectionMatrix);\n        const visible = object.visible === true && _vector.z >= -1 && _vector.z <= 1 && object.layers.test(camera.layers) === true;\n        object.element.style.display = visible === true ? '' : 'none';\n        if (visible === true) {\n          object.onBeforeRender(_this, scene, camera);\n          const element = object.element;\n          element.style.transform = 'translate(-50%,-50%) translate(' + (_vector.x * _widthHalf + _widthHalf) + 'px,' + (-_vector.y * _heightHalf + _heightHalf) + 'px)';\n          if (element.parentNode !== domElement) {\n            domElement.appendChild(element);\n          }\n          object.onAfterRender(_this, scene, camera);\n        }\n        const objectData = {\n          distanceToCameraSquared: getDistanceToSquared(camera, object)\n        };\n        cache.objects.set(object, objectData);\n      }\n      for (let i = 0, l = object.children.length; i < l; i++) {\n        renderObject(object.children[i], scene, camera);\n      }\n    }\n    function getDistanceToSquared(object1, object2) {\n      _a.setFromMatrixPosition(object1.matrixWorld);\n      _b.setFromMatrixPosition(object2.matrixWorld);\n      return _a.distanceToSquared(_b);\n    }\n    function filterAndFlatten(scene) {\n      const result = [];\n      scene.traverse(function (object) {\n        if (object.isCSS2DObject) result.push(object);\n      });\n      return result;\n    }\n    function zOrder(scene) {\n      const sorted = filterAndFlatten(scene).sort(function (a, b) {\n        if (a.renderOrder !== b.renderOrder) {\n          return b.renderOrder - a.renderOrder;\n        }\n        const distanceA = cache.objects.get(a).distanceToCameraSquared;\n        const distanceB = cache.objects.get(b).distanceToCameraSquared;\n        return distanceA - distanceB;\n      });\n      const zMax = sorted.length;\n      for (let i = 0, l = sorted.length; i < l; i++) {\n        sorted[i].element.style.zIndex = zMax - i;\n      }\n    }\n  }\n}\nexport { CSS2DObject, CSS2DRenderer };","map":{"version":3,"names":["Object3D","Vector3","Matrix4","CSS2DObject","constructor","element","document","createElement","isCSS2DObject","style","position","userSelect","setAttribute","addEventListener","traverse","object","Element","parentNode","removeChild","copy","source","recursive","cloneNode","_vector","_viewMatrix","_viewProjectionMatrix","_a","_b","CSS2DRenderer","parameters","_this","_width","_height","_widthHalf","_heightHalf","cache","objects","WeakMap","domElement","undefined","overflow","getSize","width","height","render","scene","camera","matrixWorldAutoUpdate","autoUpdate","updateMatrixWorld","parent","matrixWorldInverse","multiplyMatrices","projectionMatrix","renderObject","zOrder","setSize","setFromMatrixPosition","matrixWorld","applyMatrix4","visible","z","layers","test","display","onBeforeRender","transform","x","y","appendChild","onAfterRender","objectData","distanceToCameraSquared","getDistanceToSquared","set","i","l","children","length","object1","object2","distanceToSquared","filterAndFlatten","result","push","sorted","sort","a","b","renderOrder","distanceA","get","distanceB","zMax","zIndex"],"sources":["/Users/tumolabsstudent/Desktop/app/node_modules/three-stdlib/renderers/CSS2DRenderer.js"],"sourcesContent":["import { Object3D, Vector3, Matrix4 } from 'three';\n\nclass CSS2DObject extends Object3D {\n  constructor(element = document.createElement('div')) {\n    super();\n    this.isCSS2DObject = true;\n    this.element = element;\n    this.element.style.position = 'absolute';\n    this.element.style.userSelect = 'none';\n    this.element.setAttribute('draggable', false);\n    this.addEventListener('removed', function () {\n      this.traverse(function (object) {\n        if (object.element instanceof Element && object.element.parentNode !== null) {\n          object.element.parentNode.removeChild(object.element);\n        }\n      });\n    });\n  }\n\n  copy(source, recursive) {\n    super.copy(source, recursive);\n    this.element = source.element.cloneNode(true);\n    return this;\n  }\n\n}\n\nconst _vector = /*#__PURE__*/new Vector3();\n\nconst _viewMatrix = /*#__PURE__*/new Matrix4();\n\nconst _viewProjectionMatrix = /*#__PURE__*/new Matrix4();\n\nconst _a = /*#__PURE__*/new Vector3();\n\nconst _b = /*#__PURE__*/new Vector3();\n\nclass CSS2DRenderer {\n  constructor(parameters = {}) {\n    const _this = this;\n\n    let _width, _height;\n\n    let _widthHalf, _heightHalf;\n\n    const cache = {\n      objects: new WeakMap()\n    };\n    const domElement = parameters.element !== undefined ? parameters.element : document.createElement('div');\n    domElement.style.overflow = 'hidden';\n    this.domElement = domElement;\n\n    this.getSize = function () {\n      return {\n        width: _width,\n        height: _height\n      };\n    };\n\n    this.render = function (scene, camera) {\n      if (scene.matrixWorldAutoUpdate === true || scene.autoUpdate === true) scene.updateMatrixWorld();\n\n      if (camera.parent === null && (camera.matrixWorldAutoUpdate == null || camera.matrixWorldAutoUpdate === true)) {\n        camera.updateMatrixWorld();\n      }\n\n      _viewMatrix.copy(camera.matrixWorldInverse);\n\n      _viewProjectionMatrix.multiplyMatrices(camera.projectionMatrix, _viewMatrix);\n\n      renderObject(scene, scene, camera);\n      zOrder(scene);\n    };\n\n    this.setSize = function (width, height) {\n      _width = width;\n      _height = height;\n      _widthHalf = _width / 2;\n      _heightHalf = _height / 2;\n      domElement.style.width = width + 'px';\n      domElement.style.height = height + 'px';\n    };\n\n    function renderObject(object, scene, camera) {\n      if (object.isCSS2DObject) {\n        _vector.setFromMatrixPosition(object.matrixWorld);\n\n        _vector.applyMatrix4(_viewProjectionMatrix);\n\n        const visible = object.visible === true && _vector.z >= -1 && _vector.z <= 1 && object.layers.test(camera.layers) === true;\n        object.element.style.display = visible === true ? '' : 'none';\n\n        if (visible === true) {\n          object.onBeforeRender(_this, scene, camera);\n          const element = object.element;\n          element.style.transform = 'translate(-50%,-50%) translate(' + (_vector.x * _widthHalf + _widthHalf) + 'px,' + (-_vector.y * _heightHalf + _heightHalf) + 'px)';\n\n          if (element.parentNode !== domElement) {\n            domElement.appendChild(element);\n          }\n\n          object.onAfterRender(_this, scene, camera);\n        }\n\n        const objectData = {\n          distanceToCameraSquared: getDistanceToSquared(camera, object)\n        };\n        cache.objects.set(object, objectData);\n      }\n\n      for (let i = 0, l = object.children.length; i < l; i++) {\n        renderObject(object.children[i], scene, camera);\n      }\n    }\n\n    function getDistanceToSquared(object1, object2) {\n      _a.setFromMatrixPosition(object1.matrixWorld);\n\n      _b.setFromMatrixPosition(object2.matrixWorld);\n\n      return _a.distanceToSquared(_b);\n    }\n\n    function filterAndFlatten(scene) {\n      const result = [];\n      scene.traverse(function (object) {\n        if (object.isCSS2DObject) result.push(object);\n      });\n      return result;\n    }\n\n    function zOrder(scene) {\n      const sorted = filterAndFlatten(scene).sort(function (a, b) {\n        if (a.renderOrder !== b.renderOrder) {\n          return b.renderOrder - a.renderOrder;\n        }\n\n        const distanceA = cache.objects.get(a).distanceToCameraSquared;\n        const distanceB = cache.objects.get(b).distanceToCameraSquared;\n        return distanceA - distanceB;\n      });\n      const zMax = sorted.length;\n\n      for (let i = 0, l = sorted.length; i < l; i++) {\n        sorted[i].element.style.zIndex = zMax - i;\n      }\n    }\n  }\n\n}\n\nexport { CSS2DObject, CSS2DRenderer };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}