!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@lemoncode/fonk")):"function"==typeof define&&define.amd?define(["exports","@lemoncode/fonk"],r):r((t=t||self)["@lemoncode/fonk-final-form"]={},t.Fonk)}(this,(function(t,r){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/,a=/^\./,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=/\\(\\)?/g,s=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,l="object"==e(n)&&n&&n.Object===Object&&n,d="object"==("undefined"==typeof self?"undefined":e(self))&&self&&self.Object===Object&&self,p=l||d||Function("return this")();var h,_=Array.prototype,y=Function.prototype,v=Object.prototype,b=p["__core-js_shared__"],m=(h=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+h:"",g=y.toString,j=v.hasOwnProperty,E=v.toString,F=RegExp("^"+g.call(j).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=p.Symbol,O=_.splice,w=G(p,"Map"),V=G(Object,"create"),$=S?S.prototype:void 0,T=$?$.toString:void 0;function k(t){var r=-1,e=t?t.length:0;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}function x(t){var r=-1,e=t?t.length:0;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}function M(t){var r=-1,e=t?t.length:0;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}function C(t,r,e){var n=t[r];j.call(t,r)&&H(n,e)&&(void 0!==e||r in t)||(t[r]=e)}function P(t,r){for(var e=t.length;e--;)if(H(t[e][0],r))return e;return-1}function R(t){return!(!K(t)||(r=t,m&&m in r))&&(function(t){var r=K(t)?E.call(t):"";return"[object Function]"==r||"[object GeneratorFunction]"==r}(t)||function(t){var r=!1;if(null!=t&&"function"!=typeof t.toString)try{r=!!(t+"")}catch(t){}return r}(t)?F:s).test(function(t){if(null!=t){try{return g.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var r}function A(t,r,n,a){if(!K(t))return t;for(var u=-1,c=(r=function(t,r){if(J(t))return!1;var n=e(t);if("number"==n||"symbol"==n||"boolean"==n||null==t||L(t))return!0;return i.test(t)||!o.test(t)||null!=r&&t in Object(r)}(r,t)?[r]:function(t){return J(t)?t:z(t)}(r)).length,s=c-1,f=t;null!=f&&++u<c;){var l=B(r[u]),d=n;if(u!=s){var p=f[l];void 0===(d=a?a(p,l,f):void 0)&&(d=K(p)?p:I(r[u+1])?[]:{})}C(f,l,d),f=f[l]}return t}function q(t,r){var n,o,i=t.__data__;return("string"==(o=e(n=r))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?i["string"==typeof r?"string":"hash"]:i.map}function G(t,r){var e=function(t,r){return null==t?void 0:t[r]}(t,r);return R(e)?e:void 0}function I(t,r){return!!(r=null==r?9007199254740991:r)&&("number"==typeof t||f.test(t))&&t>-1&&t%1==0&&t<r}k.prototype.clear=function(){this.__data__=V?V(null):{}},k.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},k.prototype.get=function(t){var r=this.__data__;if(V){var e=r[t];return"__lodash_hash_undefined__"===e?void 0:e}return j.call(r,t)?r[t]:void 0},k.prototype.has=function(t){var r=this.__data__;return V?void 0!==r[t]:j.call(r,t)},k.prototype.set=function(t,r){return this.__data__[t]=V&&void 0===r?"__lodash_hash_undefined__":r,this},x.prototype.clear=function(){this.__data__=[]},x.prototype.delete=function(t){var r=this.__data__,e=P(r,t);return!(e<0)&&(e==r.length-1?r.pop():O.call(r,e,1),!0)},x.prototype.get=function(t){var r=this.__data__,e=P(r,t);return e<0?void 0:r[e][1]},x.prototype.has=function(t){return P(this.__data__,t)>-1},x.prototype.set=function(t,r){var e=this.__data__,n=P(e,t);return n<0?e.push([t,r]):e[n][1]=r,this},M.prototype.clear=function(){this.__data__={hash:new k,map:new(w||x),string:new k}},M.prototype.delete=function(t){return q(this,t).delete(t)},M.prototype.get=function(t){return q(this,t).get(t)},M.prototype.has=function(t){return q(this,t).has(t)},M.prototype.set=function(t,r){return q(this,t).set(t,r),this};var z=D((function(t){var r;t=null==(r=t)?"":function(t){if("string"==typeof t)return t;if(L(t))return T?T.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}(r);var e=[];return a.test(t)&&e.push(""),t.replace(u,(function(t,r,n,o){e.push(n?o.replace(c,"$1"):r||t)})),e}));function B(t){if("string"==typeof t||L(t))return t;var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}function D(t,r){if("function"!=typeof t||r&&"function"!=typeof r)throw new TypeError("Expected a function");var e=function e(){var n=arguments,o=r?r.apply(this,n):n[0],i=e.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return e.cache=i.set(o,a),a};return e.cache=new(D.Cache||M),e}function H(t,r){return t===r||t!=t&&r!=r}D.Cache=M;var J=Array.isArray;function K(t){var r=e(t);return!!t&&("object"==r||"function"==r)}function L(t){return"symbol"==e(t)||function(t){return!!t&&"object"==e(t)}(t)&&"[object Symbol]"==E.call(t)}var N=function(t,r,e){return null==t?t:A(t,r,e)},Q=function t(e){var n=this;!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),this.formValidation=null,this.mapErrorsToFinalFormErrorMessageStructure=function(t){for(var r={},e=0,n=Object.keys(t);e<n.length;e++){var o=n[e],i=t[o]&&!t[o].succeeded?t[o].message:"";N(r,o,i)}return r},this.validateField=function(t,r,e){return n.formValidation.validateField(t,r,e).then((function(t){return t.succeeded?null:t.message}))},this.validateRecord=function(t){return n.formValidation.validateRecord(t).then((function(t){return t.succeeded?null:{recordErrors:Object.assign({},n.mapErrorsToFinalFormErrorMessageStructure(t.recordErrors))}}))},this.buildErrors=function(t){var r={};return r=Object.assign({},n.mapErrorsToFinalFormErrorMessageStructure(t.fieldErrors)),r=Object.assign(Object.assign({},r),{recordErrors:n.mapErrorsToFinalFormErrorMessageStructure(t.recordErrors)})},this.validateForm=function(t){return n.formValidation.validateForm(t).then((function(t){return t.succeeded?null:n.buildErrors(t)}))},this.updateValidationSchema=function(t){n.formValidation.updateValidationSchema(t)},this.formValidation=r.createFormValidation(e)};t.createFinalFormValidation=function(t){return new Q(t)},Object.defineProperty(t,"__esModule",{value:!0})}));
